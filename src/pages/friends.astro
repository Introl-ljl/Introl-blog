---
import { Icon } from "astro-icon/components";
import ProfileCard from "../components/widget/ProfileCard.astro";
import MainGridLayout from "../layouts/MainGridLayout.astro";

// 友链数据
const friends = [
	{
		name: "Alcaid's Blog",
		description: "一个偏学术性的博客",
		url: "https://liuminhaocn.github.io/",
		avatar: "https://liuminhaocn.github.io/image/ava.png",
		tags: ["OI", "博客"],
	},
	{
		name: "时歌的博客",
		description: "理解以真实为本，但真实本身并不会自动呈现",
		url: "https://www.lapis.cafe",
		avatar: "https://www.lapis.cafe/_astro/avatar.exAKhE7w_1xwha6.webp",
		tags: ["博客"],
	},

	// 可以在这里添加更多友链
];
---

<MainGridLayout title="友链" description="我的朋友们的博客和网站">
  <div class="grid grid-cols-1 lg:grid-cols-4 gap-6">
    <!-- 主内容区域 -->
    <div class="lg:col-span-3">
      <div class="flex w-full rounded-[var(--radius-large)] overflow-hidden relative min-h-32">
        <div class="card-base z-10 px-6 md:px-9 py-6 relative w-full">
          <!-- 页面标题 -->
          <div class="text-center mb-8">
            <h1 class="text-3xl font-bold text-[var(--primary)] mb-4">友情链接</h1>
            <p class="text-lg text-75">这里是我的朋友们的博客和网站，欢迎互相交流学习！</p>
          </div>

          <!-- 友链卡片网格 -->
          <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
            {friends.map((friend) => (
              <div class="group bg-[var(--card-bg)] border border-[var(--line-divider)] rounded-lg p-6 hover:shadow-lg transition-all duration-300 hover:-translate-y-1">
                <div class="flex items-start space-x-4">
                  <!-- 头像 -->
                  <div class="flex-shrink-0">
                    <img 
                      src={friend.avatar} 
                      alt={friend.name}
                      class="w-12 h-12 rounded-full object-cover border-2 border-[var(--line-divider)] group-hover:border-[var(--primary)] transition-colors duration-300"
                    />
                  </div>
                  
                  <!-- 内容 -->
                  <div class="flex-1 min-w-0">
                    <h3 class="text-lg font-semibold text-90 mb-2 group-hover:text-[var(--primary)] transition-colors duration-300">
                      <a 
                        href={friend.url} 
                        target="_blank" 
                        rel="noopener noreferrer"
                        class="hover:underline"
                      >
                        {friend.name}
                      </a>
                    </h3>
                    
                    <p class="text-75 text-sm mb-3 line-clamp-2">
                      {friend.description}
                    </p>
                    
                    <!-- 标签 -->
                    {friend.tags && friend.tags.length > 0 && (
                      <div class="flex flex-wrap gap-2 mb-3">
                        {friend.tags.map((tag) => (
                          <span class="px-2 py-1 bg-[var(--btn-regular-bg)] text-[var(--btn-content)] rounded text-xs">
                            {tag}
                          </span>
                        ))}
                      </div>
                    )}
                    
                    <!-- 访问链接 -->
                    <a 
                      href={friend.url} 
                      target="_blank" 
                      rel="noopener noreferrer"
                      class="inline-flex items-center text-sm text-[var(--primary)] hover:text-[var(--primary)]/80 transition-colors duration-200"
                    >
                      <Icon name="material-symbols:open-in-new" class="w-4 h-4 mr-1" />
                      访问网站
                    </a>
                  </div>
                </div>
              </div>
            ))}
          </div>

          <!-- 申请友链说明 -->
          <div class="mt-12 p-6 bg-[var(--btn-regular-bg)] rounded-lg">
            <div class="flex items-start space-x-3">
              <Icon name="material-symbols:info-outline" class="w-5 h-5 text-[var(--primary)] mt-0.5 flex-shrink-0" />
              <div>
                <h3 class="text-lg font-semibold text-90 mb-2">申请友链</h3>
                <p class="text-75 mb-4">
                  如果你想和我交换友链，欢迎通过以下方式联系我：
                </p>
                <ul class="text-75 space-y-2">
                  <li class="flex items-center">
                    <Icon name="material-symbols:mail-outline" class="w-4 h-4 mr-2 text-[var(--primary)]" />
                    发送邮件到：introl-ljl@qq.com
                  </li>
                  <li class="flex items-center">
                    <Icon name="fa6-brands:github" class="w-4 h-4 mr-2 text-[var(--primary)]" />
                    暂无github链接可用，请直接发送邮件或通过其他渠道联系。
                  </li>
                </ul>
                <p class="text-75 mt-4 text-sm">
                  请在申请时提供：网站名称、网站描述、网站链接、头像链接等信息。
                </p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    
    <!-- 侧边栏区域 -->
    <div class="lg:col-span-1">
      <div class="sticky top-6 space-y-6">
        <ProfileCard />
      </div>
    </div>
  </div>
</MainGridLayout>

<style>
  .line-clamp-2 {
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }
</style>