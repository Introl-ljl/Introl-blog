---
export interface Props {
  status: string;
  size?: 'sm' | 'md' | 'lg';
}

const { status, size = 'md' } = Astro.props;

function getStatusColor(status: string): string {
  switch (status.toLowerCase()) {
    case '已完成':
    case 'completed':
      return 'bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200 border-green-200 dark:border-green-700';
    case '进行中':
    case 'in_progress':
    case '开发中':
      return 'bg-[var(--primary)]/10 text-[var(--primary)] border-[var(--primary)]/20 dark:bg-[var(--primary)]/15 dark:border-[var(--primary)]/25';
    case '暂停':
    case 'paused':
      return 'bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200 border-yellow-200 dark:border-yellow-700';
    case '即将完成':
    case 'nearly_done':
      return 'bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200 border-purple-200 dark:border-purple-700';
    case '计划中':
    case 'planned':
      return 'bg-gray-100 text-gray-700 dark:bg-gray-800 dark:text-gray-300 border-gray-200 dark:border-gray-600';
    default:
      return 'bg-gray-100 text-gray-700 dark:bg-gray-800 dark:text-gray-300 border-gray-200 dark:border-gray-600';
  }
}

function getSizeClasses(size: string): string {
  switch (size) {
    case 'sm':
      return 'px-2 py-0.5 text-xs';
    case 'lg':
      return 'px-4 py-2 text-base';
    default:
      return 'px-3 py-1 text-sm';
  }
}
---

<span 
  class={`inline-flex items-center rounded-full font-medium border ${getStatusColor(status)} ${getSizeClasses(size)}`}
>
  {status}
</span>